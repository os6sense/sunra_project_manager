= simple_form_for [@project, @booking], html: {class: 'form-horizontal well'} do |f|

  = render "layouts/errors", :object => @booking

  .items
    %fieldset{class: 'item'}
      .form-inline
        .form-group
          .input-group
            = f.input :facility_studio,
              collection: StudioLookup.all_studio_names,
              label_method: :studio_name,
              selected: 1,
              label: 'Studio',
              input_html:  {class: 'form-control', style: 'width: 400px; margin-right: 50px;'}

        .form-group
          = f.label 'DATE'
          .input-group{id: 'date_picker', class: 'date', style: 'width: 400px'}
            = f.input_field :date, as: :string, class: 'form-control'

            %span{class: 'input-group-addon'}
              %span{class: 'glyphicon glyphicon-calendar'}

      .form-inline
        .form-group
          = f.label 'START TIME'
          .input-group{id: 'start_picker', class: 'date', style: 'width: 400px; margin-right: 50px;'}
            = f.input_field :start_time, as: :string, class: 'form-control',
              value: @booking.start_time ? @booking.start_time.strftime("%H:%M") : "17:00"

            %span{class: 'input-group-addon'}
              %span{class: 'glyphicon glyphicon-time'}

        .form-group
          = f.label 'END TIME'
          .input-group{id: 'end_picker', class: 'date', style: 'width: 400px'}
            = f.input_field :end_time, as: :string, class: 'form-control', 
              value: @booking.end_time ? @booking.end_time.strftime("%H:%M") : "23:30"

            %span{:class=>"input-group-addon"}
              %span{:class => "glyphicon glyphicon-time"}

      %br

      .form-group
        .checkbox
          %label
            = f.check_box :webcast
            Webcast Booking?

      .form-group
        = f.input :availability_notes, :label => "Availability Notes",
            :input_html => {class: 'form-control', :rows => 6  }

      :javascript
        $(function() {
          $('#date_picker').datetimepicker({format: "DD-MM-YY"});
          $('#start_picker').datetimepicker({format: 'LT'});
          $('#end_picker').datetimepicker({format: 'LT'});
        });

  .form-actions
    = f.button :submit, :class => 'btn btn-success'
    = link_to "Cancel", :back, :class => 'btn btn-danger'
